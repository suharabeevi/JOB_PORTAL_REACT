"use strict";(self.webpackChunkmy_ts_app=self.webpackChunkmy_ts_app||[]).push([[939],{9939:function(e,r,t){t.r(r),t.d(r,{default:function(){return ue}});var s=t(7689),n=t(4165),a=t(5861),i=t(5705),o=t(8007),l=(t(5462),t(5985)),c=t(1243),d=t(192),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:d.Z.ADMIN_LOGIN,method:"post",data:r},e.next=4,(0,c.Z)(t);case 4:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 8:if(e.prev=8,e.t0=e.catch(0),"Request failed with status code 404"!==e.t0.message){e.next=12;break}throw new Error("No Admin in this Email!");case 12:if("Request failed with status code 401"!==e.t0.message){e.next=16;break}throw new Error("Incorrect Password!");case 16:throw new Error("Login failed!,try again.");case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),x=t(184),m=o.Ry({email:o.Z_().email("Invalid email").required("Email is required"),password:o.Z_().required("Password is required").min(5,"Password must be at least 5 characters long")});function h(){var e=(0,s.s0)(),r=function(e,r){"error"===r?l.Am.error(e,{position:l.Am.POSITION.BOTTOM_RIGHT}):l.Am.success(e,{position:l.Am.POSITION.BOTTOM_RIGHT})},t=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(s){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(s).then((function(t){localStorage.setItem("adminToken",null===t||void 0===t?void 0:t.token),r("Admin Login successful","success"),setTimeout((function(){e("/admin")}),2e3)})).catch((function(e){r(e.message,"error")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8 ",children:[(0,x.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm ",children:[(0,x.jsx)("img",{src:"https://res.cloudinary.com/dpgbodkae/image/upload/v1695012129/found_it-logos_black_wgrai8.png",className:"h-8 mr-3",alt:"logo"}),(0,x.jsxs)("span",{className:"self-center text-xl font-serif sm:text-2xl whitespace-nowrap dark:text-white",children:["Found",(0,x.jsx)("span",{className:"text-sky-600",children:"it"})]}),(0,x.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Admin Login"})]}),(0,x.jsx)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm ",children:(0,x.jsx)(i.J9,{initialValues:{email:"",password:""},validationSchema:m,onSubmit:t,children:(0,x.jsxs)(i.l0,{className:"space-y-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),(0,x.jsxs)("div",{className:"mt-2",children:[(0,x.jsx)(i.gN,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-brown-600 sm:text-sm sm:leading-6"}),(0,x.jsx)(i.Bc,{name:"email",component:"div",className:"text-red-500"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),(0,x.jsx)("div",{className:"text-sm font-semibold text-brown-600 hover:text-brown-500"})]}),(0,x.jsxs)("div",{className:"mt-2",children:[(0,x.jsx)(i.gN,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-brown-600 sm:text-sm sm:leading-6"}),(0,x.jsx)(i.Bc,{name:"password",component:"div",className:"text-red-500"})]})]}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-brown-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-brown-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brown-600",children:"Sign in"})})]})})}),(0,x.jsx)(l.Ix,{})]})})}var p=t(2791),g=t(9439),f=t(9139),v=t(8079),y=function(){var e=c.Z.create({baseURL:v.Z.API_URL});return e.interceptors.request.use((function(e){var r=localStorage.getItem("adminToken");return r&&(e.headers.authorization="Bearer ".concat(r)),e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return e}),(function(e){var r;return 401===(null===(r=e.response)||void 0===r?void 0:r.status)&&window.location.replace("/admin/login"),Promise.reject(e)})),e},w=y(),j=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:v.Z.API_URL+d.Z.ADMIN_GET_BLOCKED_USER,method:"get"},e.next=4,w(r);case 4:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 8:if(e.prev=8,e.t0=e.catch(0),"Request failed with status code 304"!==e.t0.message){e.next=14;break}throw new Error("OPeraction failed, Try again!");case 14:throw new Error("something went wrong , try again!");case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),b=y(),k=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:v.Z.API_URL+d.Z.ADMIN_BLOCK_USER+r,method:"post"},e.next=4,b(t);case 4:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 8:if(e.prev=8,e.t0=e.catch(0),"Request failed with status code 304"!==e.t0.message){e.next=14;break}throw new Error("Operation failed, Try again!");case 14:throw new Error("something went wrong, try again!");case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),N=function(){var e,r=(0,p.useState)(null),t=(0,g.Z)(r,2),s=t[0],i=t[1],o=(0,p.useState)(!1),c=(0,g.Z)(o,2),d=c[0],u=c[1],m=(0,p.useState)(1),h=(0,g.Z)(m,2),v=h[0],y=h[1],w=(0,p.useState)(4),b=(0,g.Z)(w,1)[0];(0,p.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:r=e.sent,i(null===r||void 0===r?void 0:r.userData);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[d]);var N=function(e,r){"error"===r?l.Am.error(e,{position:l.Am.POSITION.TOP_RIGHT}):l.Am.success(e,{position:l.Am.POSITION.TOP_RIGHT})},Z=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r).then((function(e){N("Done!","success"),u(!d)})).catch((function(e){N(e.message,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,x.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 ",children:[(0,x.jsx)("thead",{className:"text-xs text-gray-700  uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 ",children:"SL.NO"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"user Name"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"mobile"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,x.jsx)("tbody",{children:null===s||void 0===s?void 0:s.slice((v-1)*b,v*b).map((function(e,r){return(0,x.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:[(0,x.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:r+1}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.name}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.email}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.phone}),(0,x.jsx)("td",{className:"px-6 py-4",children:(0,x.jsx)(f.Tooltip,{content:e.isActive?"Block the User":"Unblock the user",animate:{mount:{scale:1,y:0},unmount:{scale:0,y:25}},children:(0,x.jsx)(f.Button,{onClick:function(){Z(e._id)},className:e.isActive?"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-xs px-5 py-2.5 text-center mr-2 mb-2":"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-lime-300 dark:focus:ring-lime-800 font-medium rounded-lg text-xs px-5 py-2.5 text-center mr-2 mb-2",children:e.isActive?"Block":"Unblock"})})})]},r)}))})]})}),(0,x.jsxs)("div",{className:"flex justify-center mt-10",children:[(0,x.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 mr-3 text-xs font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:function(){y((function(e){return e-1}))},disabled:1===v,children:"Previous"}),(0,x.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 text-xs font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:function(){y((function(e){return e+1}))},disabled:v===Math.ceil(null!==(e=null===s||void 0===s?void 0:s.length)&&void 0!==e?e:0/b),children:"Next"}),(0,x.jsx)(l.Ix,{})]})]})},Z=function(e){var r=e.title;return(0,x.jsx)("div",{className:"flex items-center my-2 mb-5 justify-around h-16 lg:w-[30rem] w-full  md:w-1/2 rounded bg-gray-50 dark:bg-gray-800",children:(0,x.jsx)("p",{className:"text-xl font-bold text-black dark:text-gray-500",children:r})})},A=function(){return(0,x.jsx)("div",{className:"p-4 sm:ml-64",children:(0,x.jsxs)("div",{className:"p-4  rounded-lg dark:border-gray-700 mt-14",children:[(0,x.jsx)(Z,{title:"Blocked Users"}),(0,x.jsx)(N,{})]})})},E=t(1087);function T(){var e=(0,s.s0)(),r=(0,p.useState)(!1),t=(0,g.Z)(r,2),i=t[0],o=t[1],l=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:window.localStorage.removeItem("adminToken"),e("/admin/login");case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("nav",{className:"fixed top-0 z-50 w-full bg-white mb-1 mx-2 rounded hover:shadow-sm shadow-xl dark:bg-gray-800 dark:border-gray-700 py-1",children:(0,x.jsx)("div",{className:"px-3 py-3 lg:px-5 lg:pl-4",children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center justify-start",children:[(0,x.jsxs)("button",{"data-drawer-target":"logo-sidebar","data-drawer-toggle":"logo-sidebar","aria-controls":"logo-sidebar",type:"button",className:"inline-flex items-center p-2 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",children:[(0,x.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,x.jsx)("svg",{className:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})})]}),(0,x.jsxs)(E.rU,{to:"/admin",className:"flex ml-2 md:mr-24",children:[(0,x.jsx)("img",{src:"https://res.cloudinary.com/dpgbodkae/image/upload/v1695012129/found_it-logos_black_wgrai8.png",className:"h-8 mr-3",alt:"voyago logo"}),(0,x.jsxs)("span",{className:"self-center text-xl font-serif sm:text-2xl whitespace-nowrap dark:text-white",children:["Found",(0,x.jsx)("span",{className:"text-sky-600",children:"it"})]})]})]}),(0,x.jsxs)("div",{className:"relative ml-3",children:[(0,x.jsxs)("button",{type:"button",className:"flex text-sm bg-gray-800 rounded-full focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600","aria-expanded":i,onClick:function(){o(!i)},children:[(0,x.jsx)("span",{className:"sr-only",children:"Open user menu"}),(0,x.jsx)("img",{className:"w-8 h-8 rounded-full object-cover",src:"https://img.freepik.com/premium-psd/3d-rendering-profile-user-interface_453897-269.jpg",alt:"user photo"})]}),i&&(0,x.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white divide-y divide-gray-100 rounded shadow-lg dark:bg-gray-700 dark:divide-gray-600",role:"menu",children:[(0,x.jsxs)("div",{className:"px-4 py-3",children:[(0,x.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:"Admin"}),(0,x.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate dark:text-gray-300",children:"admin@gmail.com"})]}),(0,x.jsxs)("ul",{className:"py-1",children:[(0,x.jsx)("li",{children:(0,x.jsx)(E.rU,{to:"",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white",role:"menuitem",children:"Dashboard"})}),(0,x.jsx)("li",{children:(0,x.jsx)(E.rU,{to:"",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white",role:"menuitem",children:"Settings"})}),(0,x.jsx)("li",{children:(0,x.jsx)(E.rU,{to:"",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white",role:"menuitem",children:"Earnings"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:l,className:"block w-full px-4 py-2 text-sm text-left text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-600 dark:hover:text-white",role:"menuitem",children:"Sign out"})})]})]})]})]})})}),(0,x.jsx)("aside",{id:"logo-sidebar",className:"fixed top-0 left-0 z-40 w-64 h-screen  pt-20 transition-transform -translate-x-full bg-white  border-gray-200 sm:translate-x-0 dark:bg-gray-800 dark:border-gray-700","aria-label":"Sidebar",children:(0,x.jsx)("div",{className:"h-full px-3 pb-4 overflow-y-auto bg-white shadow-xl rounded-lg  dark:bg-gray-800",children:(0,x.jsxs)("ul",{className:"space-y-2 font-medium",children:[(0,x.jsx)("li",{children:(0,x.jsxs)(E.rU,{to:"/admin",className:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:shadow-xl dark:hover:bg-gray-700",children:[(0,x.jsxs)("svg",{"aria-hidden":"true",className:"w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,x.jsx)("path",{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"}),(0,x.jsx)("path",{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"})]}),(0,x.jsx)("span",{className:"ml-3",children:"Dashboard"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)(E.rU,{to:"/admin/users",className:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:shadow-xl dark:hover:bg-gray-700",children:[(0,x.jsx)("svg",{"aria-hidden":"true",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),(0,x.jsx)("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Users"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)(E.rU,{to:"/admin/employers",className:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:shadow-xl dark:hover:bg-gray-700",children:[(0,x.jsx)("svg",{"aria-hidden":"true",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),(0,x.jsx)("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Employers"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)(E.rU,{to:"/admin/blockedusers",className:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:shadow-xl dark:hover:bg-gray-700",children:[(0,x.jsx)("svg",{"aria-hidden":"true",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),(0,x.jsx)("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Blocked users"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)(E.rU,{to:"/admin/admin-verification",className:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:shadow-xl dark:hover:bg-gray-700",children:[(0,x.jsx)("svg",{"aria-hidden":"true",className:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),(0,x.jsx)("span",{className:"flex-1 ml-3 whitespace-nowrap",children:"Employer Verification"})]})})]})})}),(0,x.jsx)("div",{children:(0,x.jsx)(s.j3,{})})]})}function I(){var e=(0,s.s0)(),r=(0,p.useState)(!1),t=(0,g.Z)(r,2),n=t[0],a=t[1];return(0,p.useEffect)((function(){var r=!!localStorage.getItem("adminToken");a(r),r||e("/admin/login")}),[]),n?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(T,{})}):null}var _=y(),S=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:d.Z.ADMIN_GET_ALL_USERS,method:"get"},e.next=4,_(r);case 4:return t=e.sent,console.log(t,"yesssss"),e.abrupt("return",null===t||void 0===t?void 0:t.data);case 9:if(e.prev=9,e.t0=e.catch(0),"Request failed with status code 404"!==e.t0.message){e.next=15;break}throw new Error("No users found!");case 15:throw new Error("Fectching user details failed!");case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e,r=(0,p.useState)(null),t=(0,g.Z)(r,2),s=t[0],i=t[1],o=(0,p.useState)(!1),c=(0,g.Z)(o,2),d=c[0],u=c[1],m=(0,p.useState)(1),h=(0,g.Z)(m,2),v=h[0],y=h[1],w=(0,p.useState)(4),j=(0,g.Z)(w,1)[0];(0,p.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:r=e.sent,i(null===r||void 0===r?void 0:r.userData);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[d]);var b=function(e,r){"error"===r?l.Am.error(e,{position:l.Am.POSITION.TOP_RIGHT}):l.Am.success(e,{position:l.Am.POSITION.TOP_RIGHT})},N=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().then((function(e){return e}));case 2:return r=e.sent,console.log(N,"get all users"),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(r).then((function(e){b("Done!","success"),u(!d)})).catch((function(e){b(e.message,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,x.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 ",children:[(0,x.jsx)("thead",{className:"text-xs text-gray-700  uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 ",children:"SL.NO"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"user Name"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"mobile"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,x.jsx)("tbody",{children:null===s||void 0===s?void 0:s.slice((v-1)*j,v*j).map((function(e,r){return(0,x.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:[(0,x.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:r+1}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.name}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.email}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.phone}),(0,x.jsx)("td",{className:"px-6 py-4",children:(0,x.jsx)(f.Tooltip,{content:e.isActive?"Block the User":"Unblock the user",animate:{mount:{scale:1,y:0},unmount:{scale:0,y:25}},children:(0,x.jsx)(f.Button,{onClick:function(){Z(e._id)},className:e.isActive?"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-xs px-5 py-2.5 text-center mr-2 mb-2":"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-lime-300 dark:focus:ring-lime-800 font-medium rounded-lg text-xs px-5 py-2.5 text-center mr-2 mb-2",children:e.isActive?"Block":"Unblock"})})})]},r)}))})]})}),(0,x.jsxs)("div",{className:"flex justify-center mt-10",children:[(0,x.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 mr-3 text-xs font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:function(){y((function(e){return e-1}))},disabled:1===v,children:"Previous"}),(0,x.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 text-xs font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:function(){y((function(e){return e+1}))},disabled:v===Math.ceil(null!==(e=null===s||void 0===s?void 0:s.length)&&void 0!==e?e:0/j),children:"Next"}),(0,x.jsx)(l.Ix,{})]})]})},O=function(){return(0,x.jsx)("div",{className:"p-4 sm:ml-64",children:(0,x.jsxs)("div",{className:"p-4  rounded-lg dark:border-gray-700 mt-14",children:[(0,x.jsx)(Z,{title:"User Details"}),(0,x.jsx)(C,{})]})})},R=y(),P=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:v.Z.API_URL+d.Z.ADMIN_GET_BASIC_DETAILS_USER_Employer_PACKAGE,method:"get"},e.next=4,R(r);case 4:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data.result);case 8:if(e.prev=8,e.t0=e.catch(0),"Request failed with status code 404"!==e.t0.message){e.next=14;break}throw new Error("data not found!");case 14:throw new Error("something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),B=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{role:"status",className:"grid grid-cols-4 gap-4 mb-4 animate-pulse",children:Array(4).fill("").map((function(e,r){return(0,x.jsx)("div",{className:"h-16 w-56 shadow-xl bg-gray-200  dark:bg-gray-700  mb-4"},r)}))})})},L=function(){var e=(0,p.useState)(!1),r=(0,g.Z)(e,2),t=r[0],s=r[1],n=(0,p.useState)(null),a=(0,g.Z)(n,2),i=a[0],o=a[1],l=(0,p.useState)(""),c=(0,g.Z)(l,2);c[0],c[1];return console.log(i,"yyyyyyyyyyyyyyyyy"),(0,p.useEffect)((function(){P().then((function(e){o(e)})).catch((function(e){console.log(e.message)})),setTimeout((function(){s(!0)}),1500)}),[]),(0,x.jsx)(x.Fragment,{children:t&&t?(0,x.jsxs)("div",{className:"flex flex-wrap  mb-4",children:[(0,x.jsx)("div",{className:"md:w-1/2 lg:w-1/4 w-full p-2",children:(0,x.jsxs)("div",{className:"shadow-md flex  items-center justify-evenly h-16 rounded bg-gray-100 dark:bg-gray-800",children:[(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-2xl text-green-600",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),(0,x.jsxs)("p",{className:"text-xl text-black  dark:text-gray-500",children:["Total Users:",null===i||void 0===i?void 0:i.UserCount]})]})}),(0,x.jsx)("div",{className:"md:w-1/2 lg:w-1/4 w-full p-2",children:(0,x.jsxs)("div",{className:"shadow-md flex  items-center justify-evenly h-16 rounded bg-gray-100 dark:bg-gray-800",children:[(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-2xl text-yellow-600",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),(0,x.jsxs)("p",{className:"text-xl text-black  dark:text-gray-500",children:["Total Agents:",null===i||void 0===i?void 0:i.EmployerCount]})]})}),(0,x.jsx)("div",{className:"md:w-1/2 lg:w-1/4 w-full p-2",children:(0,x.jsxs)("div",{className:" shadow-md flex  items-center justify-evenly h-16 rounded bg-gray-100 dark:bg-gray-800",children:[(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-2xl text-green-400",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),(0,x.jsxs)("p",{className:"text-xl text-black dark:text-gray-500",children:["Total Jobs:",null===i||void 0===i?void 0:i.jobCount]})]})}),(0,x.jsx)("div",{className:"md:w-1/2 lg:w-1/4 w-full p-2",children:(0,x.jsxs)("div",{className:"shadow-md flex  items-center justify-evenly h-16 rounded bg-gray-100 dark:bg-gray-800",children:[(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-2xl text-green-400",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6l-3-3h1.5a3 3 0 100-6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,x.jsxs)("p",{className:"text-xl text-black dark:text-gray-500",children:["Job Application:",null===i||void 0===i?void 0:i.JobApplicationCount]})]})})]}):(0,x.jsx)(B,{})})},M=t(3496),U=t(4637),z=function(){var e=(0,p.useState)(null),r=(0,g.Z)(e,2),t=r[0],s=r[1];(0,p.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:r=e.sent,s(!0),r&&(t=null===r||void 0===r?void 0:r.userData,a=0,i=0,t.forEach((function(e){null!==e&&void 0!==e&&e.isActive?a++:i++})),m([a,i]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var i=(0,p.useState)({chart:{width:380,type:"pie"},labels:["Active","Blocked"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}],colors:["#22f085","#e01017"]}),o=(0,g.Z)(i,2),l=o[0],c=(o[1],(0,p.useState)([0,0])),d=(0,g.Z)(c,2),u=d[0],m=d[1];return t?(0,x.jsx)("div",{id:"chart w-full h-auto",children:(0,x.jsx)(M.Z,{options:l,series:u,type:"pie"})}):(0,x.jsx)("div",{className:" w-full flex justify-center  h-full ",children:(0,x.jsx)("div",{className:"py-52",children:(0,x.jsx)(U.Z,{color:"#1bacbf "})})})},F=y(),D=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:v.Z.API_URL+d.Z.ADMIN_GET_EMPLOYER_STATUS,method:"get"},e.next=4,F(t);case 4:return s=e.sent,e.abrupt("return",null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.result);case 8:if(e.prev=8,e.t0=e.catch(0),"Request failed with status code 404"!==e.t0.message){e.next=14;break}throw new Error("not found!");case 14:throw new Error("something went wrong try Again!");case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,p.useState)(null),r=(0,g.Z)(e,2),t=r[0],s=r[1];(0,p.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:r=e.sent,s(!0),r&&m([null===r||void 0===r?void 0:r.activeCount,null===r||void 0===r?void 0:r.inactiveCount,null===r||void 0===r?void 0:r.verifiedCount,null===r||void 0===r?void 0:r.notVerifiedCount]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var i=(0,p.useState)({chart:{width:380,type:"donut"},plotOptions:{pie:{startAngle:-90,endAngle:270}},labels:["Active","InActive","verified","notVerified"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"},dataLabels:{enabled:!1},fill:{type:"gradient"}}}],colors:["#22f085","#e01017","#24d9ff","#ffcc00"]}),o=(0,g.Z)(i,2),l=o[0],c=(o[1],(0,p.useState)([0,0,0,0])),d=(0,g.Z)(c,2),u=d[0],m=d[1];return t?(0,x.jsx)("div",{id:"chart w-auto h-auto",children:(0,x.jsx)(M.Z,{options:l,series:u,type:"donut"})}):(0,x.jsx)("div",{className:" w-full flex justify-center  h-full ",children:(0,x.jsx)("div",{className:"py-52",children:(0,x.jsx)(U.Z,{color:"#1bacbf "})})})},G=function(){return(0,x.jsx)("div",{className:"p-4 sm:ml-64 ",children:(0,x.jsxs)("div",{className:"p-4  mt-14 shadow-lg shadow-blue-gray-400",children:[(0,x.jsx)(Z,{title:"Admin DashBoard"}),(0,x.jsx)(L,{}),(0,x.jsxs)("div",{className:"flex flex-wrap my-7",children:[(0,x.jsxs)("div",{className:"flex-col w-full md:w-1/2",children:[(0,x.jsx)("div",{className:"flex justify-center mb-2",children:(0,x.jsx)("h1",{className:"font-bold text-xl",children:"Employers"})}),(0,x.jsx)(H,{})]}),(0,x.jsxs)("div",{className:"flex-col w-full md:w-1/2",children:[(0,x.jsx)("div",{className:"flex justify-center mb-2",children:(0,x.jsx)("h1",{className:"font-bold text-xl",children:"Users"})}),(0,x.jsx)(z,{})]})]})]})})},q=t(2801),V=t(2777),W=t(8493),Y=t(1405),J=t(740);var K=function(e){var r=e.isOpen,t=e.onClose,s=e.onConfirm,i=(0,p.useState)(!1),o=(0,g.Z)(i,2),c=o[0],d=o[1],u=(0,Y.I0)(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0);try{s(),setTimeout((function(){u((0,J.G3)()),l.Am.success("Done")}),1500),setTimeout((function(){t(),d(!1)}),3e3)}catch(r){l.Am.error("Failed to delete the job")}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)(q.u.Root,{show:r,as:p.Fragment,children:(0,x.jsx)(V.V,{as:"div",className:"fixed inset-0 overflow-y-auto z-50",onClose:t,children:(0,x.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0",children:[(0,x.jsx)(q.u.Child,{as:p.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,x.jsx)(V.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,x.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,x.jsx)(q.u.Child,{as:p.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,x.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,x.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,x.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,x.jsx)(W.Z,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,x.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,x.jsx)(V.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Block the user"}),(0,x.jsx)("div",{className:"mt-2",children:(0,x.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to Block the employer ?"})})]})]}),(0,x.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[(0,x.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm",onClick:m,disabled:c,children:c?"Blocking...":"Block"}),(0,x.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"})]})]})})]})})})},Q=y(),X=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:v.Z.API_URL+d.Z.ADMIN_GET_ALL_EMPLOYERS,method:"get"},e.next=4,Q(r);case 4:return t=e.sent,console.log(t,"employer details"),e.abrupt("return",null===t||void 0===t?void 0:t.data);case 9:if(e.prev=9,e.t0=e.catch(0),"Request failed with status code 304"!==e.t0.message){e.next=15;break}throw new Error("No agents found!");case 15:throw new Error("Fetching agents failed!");case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),$=y(),ee=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:v.Z.API_URL+d.Z.ADMIN_BLOCK_EMPLOYER+r,method:"post"},e.next=4,$(t);case 4:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 8:if(e.prev=8,e.t0=e.catch(0),"Request failed with status code 304"!==e.t0.message){e.next=14;break}throw new Error("OPeraction failed, Try again!");case 14:throw new Error("something went wrong , try again!");case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),re=function(){var e,r=(0,p.useState)(null),t=(0,g.Z)(r,2),s=t[0],i=t[1],o=(0,p.useState)(!1),c=(0,g.Z)(o,2),d=c[0],u=c[1],m=(0,p.useState)(""),h=(0,g.Z)(m,2),v=h[0],y=h[1],w=(0,p.useState)(!1),j=(0,g.Z)(w,2),b=j[0],k=(j[1],(0,p.useState)(1)),N=(0,g.Z)(k,2),Z=N[0],A=N[1],E=(0,p.useState)(4),T=(0,g.Z)(E,1)[0];(0,p.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:r=e.sent,i(null===r||void 0===r?void 0:r.EmployerData);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[b]);var I=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X().then((function(e){return e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,x.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 ",children:[(0,x.jsx)("thead",{className:"text-xs text-gray-700  uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",className:"px-6 py-3 ",children:"SL.NO"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Campany Name"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"verification status"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Industry"}),(0,x.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,x.jsx)("tbody",{children:null===s||void 0===s?void 0:s.slice((Z-1)*T,Z*T).map((function(e,r){return(0,x.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",children:[(0,x.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:r+1}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.companyName}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.email}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.isVerified?(0,x.jsxs)("span",{className:"inline-flex items-center bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300",children:[(0,x.jsx)("span",{className:"w-2 h-2 mr-1 bg-green-500 rounded-full"}),"verified"]}):(0,x.jsxs)("span",{className:"inline-flex items-center bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-red-900 dark:text-red-300",children:[(0,x.jsx)("span",{className:"w-2 h-2 mr-1 bg-red-500 rounded-full"}),"Not verified"]})}),(0,x.jsx)("td",{className:"px-6 py-4",children:e.industry}),(0,x.jsxs)("td",{className:"px-6 py-4",children:[(0,x.jsx)(f.Button,{onClick:function(){return r=e._id,y(r),void u(!0);var r},className:e.isActive?"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-xs px-5 py-2.5 text-center mr-2 mb-2":"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-lime-300 dark:focus:ring-lime-800 font-medium rounded-lg text-xs px-5 py-2.5 text-center mr-2 mb-2",children:e.isActive?"Block":"Unblock"}),d&&(0,x.jsx)(K,{isOpen:d,onClose:function(){return u(!0)},onConfirm:function(){return ee(v)}})]})]},r)}))})]})}),(0,x.jsxs)("div",{className:"flex justify-center mt-10",children:[(0,x.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 mr-3 text-xs font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:function(){A((function(e){return e-1}))},disabled:1===Z,children:"Previous"}),(0,x.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 text-xs font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:function(){A((function(e){return e+1}))},disabled:Z===Math.ceil(null!==(e=null===s||void 0===s?void 0:s.length)&&void 0!==e?e:0/T),children:"Next"}),(0,x.jsx)(l.Ix,{})]})]})},te=function(){return(0,x.jsx)("div",{className:"p-4 sm:ml-64",children:(0,x.jsxs)("div",{className:"p-4  mt-14",children:[(0,x.jsx)(Z,{title:"Employers Details"}),(0,x.jsx)(re,{})]})})},se=y(),ne=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:v.Z.API_URL+d.Z.ADMIN_VERIFY_EMPLOYER+r,method:"post"},e.next=4,se(t);case 4:return s=e.sent,e.abrupt("return",null===s||void 0===s?void 0:s.data);case 8:if(e.prev=8,e.t0=e.catch(0),"Request failed with status code 304"!==e.t0.message){e.next=14;break}throw new Error("Operation failed, Try again!");case 14:throw new Error("Something went wrong, try again!");case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),ae=function(e){var r=e.idImg,t=e.EmployerId,s=function(e,r){"error"===r?l.Am.error(e,{position:l.Am.POSITION.TOP_RIGHT}):l.Am.success(e,{position:l.Am.POSITION.TOP_RIGHT})},i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,ne(t).then((function(e){s("Agent successfully verified","success"),setTimeout((function(){location.replace("/admin/admin-verification")}),2e3)})).catch((function(e){s(e.message,"error")}));case 3:e.next=6;break;case 5:s("Okay! agent still in the same state","error");case 6:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return(0,x.jsxs)(f.Popover,{children:[(0,x.jsx)(f.PopoverHandler,{children:(0,x.jsx)(f.Button,{children:"view document"})}),(0,x.jsx)(f.PopoverContent,{className:"w-100 bg-white p-0 overflow-hidden flex z-[999]",children:(0,x.jsxs)("div",{className:"p-4 m-0",children:[(0,x.jsx)("img",{src:r,alt:"image",className:"w-90 h-69 object-cover mt-4 mx-auto"}),(0,x.jsxs)("div",{className:"pt-2 mt-2 pb-3 flex justify-center",children:[(0,x.jsx)("a",{href:"#",className:"inline-block",children:(0,x.jsx)(f.Button,{size:"sm",variant:"text",className:"flex items-center gap-1 capitalize text-green-900",onClick:function(){i(!0,t)},children:(0,x.jsx)(f.Typography,{children:"Accept"})})}),(0,x.jsx)("a",{href:"#",className:"inline-block",children:(0,x.jsx)(f.Button,{size:"sm",variant:"text",className:"flex items-center gap-1 capitalize text-red-600",onClick:function(){i(!1,t)},children:(0,x.jsx)(f.Typography,{children:"Reject"})})})]}),(0,x.jsx)(l.Ix,{})]})})]})},ie=y(),oe=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:v.Z.API_URL+d.Z.ADMIN_GET_ALL_UNVERIFIED_EMPLOYERS,method:"get"},e.next=4,ie(r);case 4:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 8:if(e.prev=8,e.t0=e.catch(0),"Request failed with status code 404"!==e.t0.message){e.next=14;break}throw new Error("No agents found!");case 14:throw new Error("Fetching unVerified agents failed !");case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),le=["Member","Status","Document"],ce=function(){var e=(0,p.useState)(null),r=(0,g.Z)(e,2),t=r[0],s=r[1];(0,p.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:r=e.sent,s(null===r||void 0===r?void 0:r.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe().then((function(e){return e})).catch((function(e){var r;r=e.message,"error"==="error"?l.Am.error(r,{position:l.Am.POSITION.BOTTOM_RIGHT}):l.Am.success(r,{position:l.Am.POSITION.BOTTOM_RIGHT})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)(f.Card,{className:"h-full w-full",children:[(0,x.jsx)(f.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:(0,x.jsx)("div",{className:"mb-8 flex items-center justify-between gap-8",children:(0,x.jsxs)("div",{children:[(0,x.jsx)(f.Typography,{variant:"h5",color:"blue-gray",children:"Employer Verificatoin List"}),(0,x.jsx)(f.Typography,{color:"gray",className:"mt-1 font-normal",children:"See information about all unverified Employer"})]})})}),t&&t.length?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(f.CardBody,{className:"overflow-scroll px-0",children:(0,x.jsxs)("table",{className:"mt-4 w-full min-w-max table-auto text-left",children:[(0,x.jsx)("thead",{children:(0,x.jsx)("tr",{children:le.map((function(e){return(0,x.jsx)("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-4",children:(0,x.jsx)(f.Typography,{variant:"small",color:"blue-gray",className:"font-normal leading-none opacity-70",children:e})},e)}))})}),(0,x.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e,r){return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"p-4 border-b border-blue-gray-50",children:(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)(f.Avatar,{src:e.idProof_img,alt:"",size:"sm"}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)(f.Typography,{variant:"small",color:"blue-gray",className:"font-normal"}),(0,x.jsx)(f.Typography,{variant:"small",color:"blue-gray",className:"font-normal opacity-70",children:e.email})]})]})}),(0,x.jsx)("td",{className:"p-4",children:(0,x.jsxs)("span",{className:"inline-flex items-center bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-red-900 dark:text-red-300",children:[(0,x.jsx)("span",{className:"w-2 h-2 mr-1 bg-red-500 rounded-full"}),"Not verified"]})}),(0,x.jsx)("td",{className:"p-4",children:(0,x.jsx)(f.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:(0,x.jsx)(ae,{idImg:e.idProof_img,EmployerId:e._id})})})]},r)}))})]})}),(0,x.jsx)(l.Ix,{}),(0,x.jsxs)(f.CardFooter,{className:"flex items-center justify-between border-t border-blue-gray-50 p-4",children:[(0,x.jsx)(f.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:"Page 1 of 10"}),(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsx)(f.Button,{variant:"outlined",color:"blue-gray",size:"sm",children:"Previous"}),(0,x.jsx)(f.Button,{variant:"outlined",color:"blue-gray",size:"sm",children:"Next"})]})]})]}):(0,x.jsx)("div",{className:"ms-5 text-xl text-green-600",children:"NO! Verification Pending,All Employers are Verified!"})]})},de=function(){return(0,x.jsx)("div",{className:"p-4 sm:ml-64",children:(0,x.jsx)("div",{className:"p-4  rounded-lg dark:border-gray-700 mt-14",children:(0,x.jsx)(ce,{})})})},ue=function(){return(0,x.jsx)("div",{children:(0,x.jsxs)(s.Z5,{children:[(0,x.jsx)(s.AW,{path:"/login",element:(0,x.jsx)(h,{})}),(0,x.jsxs)(s.AW,{path:"",element:(0,x.jsx)(I,{}),children:[(0,x.jsx)(s.AW,{index:!0,element:(0,x.jsx)(G,{})}),(0,x.jsx)(s.AW,{path:"/users",element:(0,x.jsx)(O,{})}),(0,x.jsx)(s.AW,{path:"/employers",element:(0,x.jsx)(te,{})}),(0,x.jsx)(s.AW,{path:"/admin-verification",element:(0,x.jsx)(de,{})}),(0,x.jsx)(s.AW,{path:"/blockedusers",element:(0,x.jsx)(A,{})})]})]})})}}}]);
//# sourceMappingURL=939.1c4a429b.chunk.js.map